app-id: io.bit3.ThreemaQT
runtime: org.kde.Platform
runtime-version: '5.14'
sdk: org.kde.Sdk
base: io.qt.qtwebengine.BaseApp
base-version: '5.14'
command: ThreemaQT
finish-args:
- "--share=ipc"
- "--socket=x11"
- "--socket=wayland"
- "--share=network"
- "--filesystem=home"
- "--device=dri"
- "--env=QTWEBENGINEPROCESS_PATH=/app/bin/QtWebEngineProcess"
- "--talk-name=org.kde.StatusNotifierWatcher"
cleanup-commands:
- /app/cleanup-BaseApp.sh
modules:
- name: ThreemaQT
  buildsystem: qmake
  build-options:
    env:
    - QMAKEPATH=/app/lib
  config-opts:
  - QMAKE_INCDIR+=/app/include/QtWebEngine
  - QMAKE_INCDIR+=/app/include/QtWebEngineCore
  - QMAKE_INCDIR+=/app/include/QtWebEngineWidgets
  sources:
  - type: git
    url: https://gitlab.com/bit3/threemaqt.git
    tag: v1.0.2
    commit: 1542389d9a2440c40c90105f62e5cff87b0db6ca

